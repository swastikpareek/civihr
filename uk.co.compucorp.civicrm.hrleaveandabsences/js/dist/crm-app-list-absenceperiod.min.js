define("leave-absences/crm/app",[],function(){return{Form:{},List:{}}}),define("leave-absences/crm/app.list",["leave-absences/crm/app"],function(e){return e.ListPage=function(t){function i(e){n(e)}function n(e){e.off("click.civihrSetAsDefault").on("click.civihrSetAsDefault",".action-item.civihr-set-as-default",s).off("click.civihrDelete").on("click.civihrDelete",".action-item.civihr-delete",c)}function s(i){var n=t(i.target);new e.ListPage.SetAsDefaultAction(n,o.setAsDefault.confirmation,o.setAsDefault.success).execute(),i.preventDefault()}function c(i){var n=t(i.target);new e.ListPage.DeleteAction(n,o.delete.confirmation,o.delete.success).execute(),i.preventDefault()}var o={setAsDefault:{confirmation:'Are you sure you want to set "%1" as default?',success:'"%1" is now the default item'},delete:{confirmation:'Are you sure you want to delete "%1"?',success:'"%1" was deleted'}};return i}(CRM.$),e.ListPage.Action=function(e){function t(e,t,i,n){this._target=e,this._listRow=e.closest(".crm-entity"),this._entity=e.crmEditableEntity(),this._title=t,this._confirmationMessage=i,this._successMessage=n}return t.prototype.execute=function(){this._showConfirmation()},t.prototype._showConfirmation=function(){CRM.confirm({title:e(this._title),message:e(this._confirmationMessage,{1:this._entity.title}),options:{yes:e("Yes"),no:e("No")}}).on("crmConfirm:yes",this._executeAction.bind(this))},t.prototype._refresh=function(){CRM.refreshParent(this._listRow)},t.prototype._getSuccessMessage=function(){return e(this._successMessage,{1:this._entity.title})},t}(ts),e.ListPage.SetAsDefaultAction=function(){function t(t,i,n){e.ListPage.Action.call(this,t,"Set as default",i,n)}return t.prototype=Object.create(e.ListPage.Action.prototype),t.prototype._executeAction=function(){CRM.api3(this._entity.entity,"create",{id:this._entity.id,is_default:1},{success:this._getSuccessMessage.bind(this)}).done(this._refresh.bind(this))},t}(),e.ListPage.DeleteAction=function(){function t(t,i,n){e.ListPage.Action.call(this,t,"Delete",i,n)}return t.prototype=Object.create(e.ListPage.Action.prototype),t.prototype._executeAction=function(){CRM.api3(this._entity.entity,"delete",{id:this._entity.id},{success:this._getSuccessMessage.bind(this)}).done(this._refresh.bind(this))},t}(),e}),define("leave-absences/crm/app.list.absenceperiod",["leave-absences/crm/app.list"],function(e){return e.List.AbsencePeriod=function(t){function i(t){this._listElement=t,this._listPage=new e.ListPage(t),this._addEventListeners()}return i.prototype._addEventListeners=function(){this._listElement.find(".civihr-manage-entitlements").on("click",this._onManageEntitlementsClick.bind(this))},i.prototype._onManageEntitlementsClick=function(i){i.preventDefault();var n=t(i.target);new e.List.AbsencePeriod.ManageEntitlementAction(n,"The system will now update the staff members leave entitlement.").execute()},i}(CRM.$),e.List.AbsencePeriod.ManageEntitlementAction=function(){function t(t,i){e.ListPage.Action.call(this,t,"Update leave entitlement?",i,"")}return t.prototype=Object.create(e.ListPage.Action.prototype),t.prototype._executeAction=function(){var e=this._target.attr("href");e&&(window.location=e)},t}(),e}),function(e){e(["leave-absences/crm/app.list.absenceperiod"],function(e){CRM.$(document).trigger("hrappready.listabsenceperiod",[e])})}(require),define("crm-app-list-absenceperiod",function(){});
//# sourceMappingURL=/sites/all/modules/civicrm/tools/extensions/civihr/uk.co.compucorp.civicrm.hrleaveandabsences/js/dist/crm-app-list-absenceperiod.js.map